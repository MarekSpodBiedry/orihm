<!DOCTYPE HTML>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <title>OriGameee</title>
  <link rel="icon" type="image/x-icon" href="img/favicon.png">
  <link href="https://fonts.googleapis.com/css?family=Inconsolata:400,700&subset=latin,latin-ext" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
  <script src="cookies.js"></script>
  <style>
    body {
      background-color: #000;
      color: lightgray;
      font-size: 28px;
      font-family: 'Inconsolata';
      font-weight: 700;
    }

    #pojemnik {
      width: 900px;
      margin: auto;
    }

    #plansza {
      width: 900px;
      margin: 50px auto;
      text-align: center;
      font-size: 48px;
      min-height: 60px;
    }

    #szubienica, #alfabet {
      float: left;
      width: 450px;
      text-align: center;
      min-height: 280px;
    }

    .litera {
      width: 30px;
      height: 30px;
      text-align: center;
      padding: 5px;
      margin: 5px;
      border: 3px solid gray;
      float: left;
      cursor: pointer;
      border-radius: 15px;
    }

    .litera:hover {
      background-color: #222;
      color: #fff;
      border: 3px solid #fff;
    }

    .reset {
      color: green;
      cursor: pointer;
      font-size: 48px;
    }

    .reset:hover {
      color: #8f8;
    }

    #mainButton2 {
      position: fixed;
      top: 10px;
      right: 10px;
      z-index: 1000;
    }

    #mainButton1 {
      position: fixed;
      top: 10px;
      right: 80px;
      z-index: 1000;
    }

    #statistics-button, #settings-button, .settings-button {
      background-color: lightgray;
      color: #222;
      border: none;
      border-radius: 100px;
      padding: 10px 20px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.2s ease;
      font-size: 15px;
      vertical-align: middle;
    }

    #statistics-button:hover, #settings-button:hover, .settings-button-hover:hover {
      background-color: gray;
    }

    #settings-jump-to-haslo-input::-webkit-outer-spin-button,
    #settings-jump-to-haslo-input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    .settings-button {
      margin: 12px;
    }

    #switch-letter-counting-button {
      margin-top: 11px !important;
    }

    #settings-reset-button, #settings-reset-confirm-button {
      background-color: red;
      color: white;
    }

    #settings-reset-button:hover, #settings-reset-confirm-button:hover {
      background-color: darkred;
    }

    #settings-custom-haslo-input, #settings-custom-kategoria-input, #settings-export-haslo-input, #settings-export-kategoria-input {
      width: 72px;
    }

    #settings-custom-haslo-input, #settings-export-haslo-input {
      margin-right: 0px;
    }

    #settings-custom-kategoria-input, #settings-export-kategoria-input {
      margin-left: 1px;
    }

    .popupOverlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.5);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 2000;
    }

    .popupContent {
      background: black;
      color: white;
      padding: 20px;
      border-radius: 8px;
      position: relative;
      width: 400px;
      max-width: 90%;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
      border: 3px solid white;
    }

    .closePopup {
      position: absolute;
      top: 10px;
      right: 15px;
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: white;
    }
    
    .reset-popup-content {
      max-width: 350px;
      width: 100%;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .reset-close {
      align-self: flex-end;
    }
    .reset-title {
      margin: 0 0 16px 0;
      align-self: center;
    }
    .reset-checkboxes {
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .reset-checkbox-row {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 4px;
      width: 100%;
    }
    .reset-checkbox-row input[type="checkbox"] {
      margin-right: 8px;
    }
    .reset-checkbox-row label {
      text-align: center;
      width: 160px;
    }
    .reset-btn {
      align-self: center;
      margin-top: 8px;
    }
    
  </style>
</head>
<body>

<!-- Top Buttons -->
<div id="mainButton1">
  <button id="statistics-button">Stats</button>
</div>
<div id="mainButton2">
  <button id="settings-button">‚öô</button>
</div>

<!-- Stats Modal -->
<div id="statsOverlay" class="popupOverlay">
  <div class="popupContent">
    <button class="closePopup">&times;</button>
    <h2>Statistics</h2>
    <p>Tutaj nadal nic nie ma...</p>
  </div>
</div>

<!-- Settings Modal -->
<div id="settingsOverlay" class="popupOverlay">
  <div class="popupContent">
    <button class="closePopup">&times;</button>
    <h2>Settings</h2>
    <div><button id="switch-letter-counting-button" class="settings-button" onclick="/*showCounts = !showCounts; wypiszHaslo()*/">LETTER COUNT</button>
    <button id="switch-hasla-list-button" class="settings-button" style="height: 38px; padding: 9px 20px;">üëÅÔ∏è</button>
    <button id="show-hidden-ori-hasla-button" class="settings-button" style="height: 38px; padding: 9px 20px;">üîí</button></div>
    <input type="number" placeholder="# Has≈Ça" id="settings-jump-to-haslo-input" class="settings-button">
    <button id="settings-jump-to-haslo-button" class="settings-button settings-button-hover" onclick="jump()">Jump!</button>

    <input type="password" placeholder="Has≈Ço" id="settings-custom-haslo-input" class="settings-button">
    <input type="text" placeholder="Kategoria" id="settings-custom-kategoria-input" class="settings-button">
    <button id="settings-custom-haslo-button" class="settings-button settings-button-hover" onclick="start(custom = 1); document.querySelector('#settingsOverlay .closePopup').click();">Ustaw</button>
    
    <div id="export1">
    <input type="password" placeholder="Has≈Ço" id="settings-export-haslo-input" class="settings-button">
    <input type="text" placeholder="Kategoria" id="settings-export-kategoria-input" class="settings-button">
    <button id="settings-export-haslo-button" class="settings-button settings-button-hover" onclick="exportHaslo();">Export</button>
    </div>

    <div id="export2">
    <input type="text" id="settings-export-copy-input" class="settings-button" disabled>
    <button id="settings-export-copy-button" class="settings-button settings-button-hover" onclick="copyHaslo();">Copy</button>
    </div>

    <p></p>

    <div id="resetOverlay" class="popupOverlay">
      <div class="popupContent reset-popup-content">
      <button class="closePopup reset-close">&times;</button>
      <h3 class="reset-title">Reset:</h3>
      <div class="reset-checkboxes">
        <div class="reset-checkbox-row">
        <input type="checkbox" id="reset-cookies-checkbox" checked>
        <label for="reset-cookies-checkbox">Cookies confirmation</label>
        </div>
        <div class="reset-checkbox-row">
        <input type="checkbox" id="reset-index-checkbox" checked>
        <label for="reset-index-checkbox">Index has≈Ça</label>
        </div>
        <div class="reset-checkbox-row">
        <input type="checkbox" id="reset-settings-checkbox" checked>
        <label for="reset-settings-checkbox">Ustawienia</label>
        </div>
        <div class="reset-checkbox-row">
        <input type="checkbox" id="reset-stats-checkbox" disabled>
        <label for="reset-stats-checkbox">Statystyki</label>
        </div>
        <div class="reset-checkbox-row">
        <input type="checkbox" id="reset-else-checkbox">
        <label for="reset-else-checkbox">Wszystko</label>
        </div>
        <button id="settings-reset-confirm-button" class="settings-button reset-btn" onclick="reset()">RESET</button>
      </div>
      </div>
    </div>
    <button id="settings-reset-button" class="settings-button">üóëÔ∏è</button>

  </div>
</div>

<!-- Game Container -->
<div id="pojemnik">
  <div id="plansza"></div>
  <div id="szubienica"><img src="img/szubienice/default/s0.gif" alt="" /></div>
  <div id="alfabet"></div>
  <div style="clear:both;"></div>
</div>

<script>
function sleep(s) {
  return new Promise(resolve => setTimeout(resolve, s*1000));
}


// Modal Logic
let resetShown = false;
const statsButton = document.getElementById('statistics-button');
const settingsButton = document.getElementById('settings-button');
const resetButton = document.getElementById('settings-reset-button');
const statsOverlay = document.getElementById('statsOverlay');
const settingsOverlay = document.getElementById('settingsOverlay');
const resetOverlay = document.getElementById('resetOverlay');

statsButton.addEventListener('click', () => statsOverlay.style.display = 'flex');
settingsButton.addEventListener('click', () => settingsOverlay.style.display = 'flex');
resetButton.addEventListener('click', () => {resetOverlay.style.display = 'flex'; resetShown = true;});

// General overlays (including resetOverlay, with special handling for resetShown)
document.querySelectorAll('.popupOverlay').forEach(overlay => {
  const content = overlay.querySelector('.popupContent');
  const closeBtn = overlay.querySelector('.closePopup');

  closeBtn.addEventListener('click', () => {
    overlay.style.display = 'none';
    if (overlay.id === 'resetOverlay') resetShown = false;
  });
  overlay.addEventListener('click', (e) => {
    if (!content.contains(e.target)) {
      overlay.style.display = 'none';
      if (overlay.id === 'resetOverlay') resetShown = false;
    }
  });
});

// Game Logic
const yes = new Audio('audio/yes.mp3');
const no = new Audio('audio/no.mp3');

let hasla = [{"tekst": "OJƒÜ, B≈ÅƒÑD HASE≈Å", "kategoria": "ERROR"}];

const oriGinal = [
  {"tekst": "Dzie≈Ñ dobry Droga ≈ªono", "kategoria": "B" },
  {"tekst": "Cieszƒô siƒô ≈ºe ciƒô mam", "kategoria": "B" },
  {"tekst": "MinƒÖ≈Ç rok", "kategoria": "B" },
  {"tekst": "Od tamtego cudownego dnia", "kategoria": "B" },
  {"tekst": "Na lotnisku", "kategoria": "B" },
  {"tekst": "Gdy z≈ÇƒÖczy≈Ça nas mi≈Ço≈õƒá", "kategoria": "B" },
  {"tekst": "≈ªyczƒô ci aby≈õ by≈Ça zawsze szczƒô≈õliwa", "kategoria": "B" },
  {"tekst": "Zdrowa i pogodna jak s≈Çonko", "kategoria": "B" },
  {"tekst": "≈ªeby≈õ mia≈Ça si≈Çe zwiedzaƒá ≈õwiat", "kategoria": "B" },
  {"tekst": "I ≈ºycie", "kategoria": "B" },
  {"tekst": "My≈õl o mnie skarbie", "kategoria": "B" },
  {"tekst": "≈önij o mnie kotku", "kategoria": "B" },
  {"tekst": "Kocham ciƒô ca≈Çym serduszkiem", "kategoria": "B" },
  {"tekst": "Zawsze wszƒôdzie i tylko ciebie", "kategoria": "B" },
  {"tekst": "I love you the most in the whole world Ori", "kategoria": "B" },
  {"tekst": "Mi≈Çego wisielca kochanie", "kategoria": "B" },
  {"tekst": "Kocham ciƒô", "kategoria": "‚ù§", "jezyk": "Polski"},
  {"tekst": "I love you", "kategoria": "‚ù§", "jezyk": "Angielski"},
  {"tekst": "Te amo", "kategoria": "‚ù§", "jezyk": "Hiszpa≈Ñski"},
  {"tekst": "Je t'aime", "kategoria": "‚ù§", "jezyk": "Francuski"},
  {"tekst": "Ich liebe dich", "kategoria": "‚ù§", "jezyk": "Niemiecki"},
  {"tekst": "Ti amo", "kategoria": "‚ù§", "jezyk": "W≈Çoski"},
  {"tekst": "Eu te amo", "kategoria": "‚ù§", "jezyk": "Portugalski"},
  {"tekst": "Ia tebia liubliu", "kategoria": "‚ù§", "jezyk": "Rosyjski (–Ø&nbsp;—Ç–µ–±—è&nbsp;–ª—é–±–ª—é)"},
  {"tekst": "Wo ai ni", "kategoria": "‚ù§", "jezyk": "Chi≈Ñski (Mandary≈Ñski) (ÊàëÁà±‰Ω†)"},
  {"tekst": "Ai shiteru", "kategoria": "‚ù§", "jezyk": "Japo≈Ñski (ÊÑõ„Åó„Å¶„Çã)"},
  {"tekst": "Saranghae", "kategoria": "‚ù§", "jezyk": "Korea≈Ñski (ÏÇ¨ÎûëÌï¥)"},
  {"tekst": "Main tumse pyaar krtaa huun", "kategoria": "‚ù§", "jezyk": "Hindi (‡§Æ‡•à‡§Ç&nbsp;‡§§‡•Å‡§Æ‡§∏‡•á&nbsp;‡§™‡•ç‡§Ø‡§æ‡§∞&nbsp;‡§ï‡§∞‡§§‡§æ&nbsp;‡§π‡•Ç‡§Å)"},
  {"tekst": "Aku cinta kamu", "kategoria": "‚ù§", "jezyk": "Indonezyjski"},
  {"tekst": "Saya cinta padamu", "kategoria": "‚ù§", "jezyk": "Malajski"},
  {"tekst": "Jeg elsker dig", "kategoria": "‚ù§", "jezyk": "Du≈Ñski"},
  {"tekst": "Ik hou van jou", "kategoria": "‚ù§", "jezyk": "Holenderski"},
  {"tekst": "Jeg elsker deg", "kategoria": "‚ù§", "jezyk": "Norweski"},
  {"tekst": "Jag alskar dig", "kategoria": "‚ù§", "jezyk": "Szwedzki (Jag&nbsp;√§lskar&nbsp;dig)"},
  {"tekst": "S' agapo", "kategoria": "‚ù§", "jezyk": "Grecki (Œ£'&nbsp;Œ±Œ≥Œ±œÄœé)"},
  {"tekst": "Seni seviyorum", "kategoria": "‚ù§", "jezyk": "Turecki"},
  {"tekst": "Mina rakastan sinua", "kategoria": "‚ù§", "jezyk": "Fi≈Ñski (Min√§&nbsp;rakastan&nbsp;sinua)"},
  {"tekst": "Volim te", "kategoria": "‚ù§", "jezyk": "Chorwacki"},
  {"tekst": "Ljublim te", "kategoria": "‚ù§", "jezyk": "S≈Çowe≈Ñski"},
  {"tekst": "Te iubesc", "kategoria": "‚ù§", "jezyk": "Rumu≈Ñski"},
  {"tekst": "Milujem ta", "kategoria": "‚ù§", "jezyk": "S≈Çowacki (Milujem&nbsp;≈•a)"},
  {"tekst": "Lubim ta", "kategoria": "‚ù§", "jezyk": "S≈Çowacki (inaczej) (ƒΩ√∫bim&nbsp;≈•a)"},
  {"tekst": "Szeretlek", "kategoria": "‚ù§", "jezyk": "Wƒôgierski"},
  {"tekst": "Ta gra agam ort", "kategoria": "‚ù§", "jezyk": "Irlandzki (T√°&nbsp;gr√°&nbsp;agam&nbsp;ort)"},
  {"tekst": "Amo-te", "kategoria": "‚ù§", "jezyk": "Portugalski (europejski)"},
  {"tekst": "Ani ohev otach", "kategoria": "‚ù§", "jezyk": "Hebrajski (do kobiety)"},
  {"tekst": "Ana behibek", "kategoria": "‚ù§", "jezyk": "Arabski (mƒô≈ºczyzna do kobiety)"},
  {"tekst": "Mahal kita", "kategoria": "‚ù§", "jezyk": "Filipi≈Ñski"},
  {"tekst": "Inhobok", "kategoria": "‚ù§", "jezyk": "Malta≈Ñski"},
  {"tekst": "Mi amas vin", "kategoria": "‚ù§", "jezyk": "Esperanto"},
  {"tekst": "T'estimo", "kategoria": "‚ù§", "jezyk": "Katalo≈Ñski"},
  {"tekst": "Estim te", "kategoria": "‚ù§", "jezyk": "Prowenalski"},
  {"tekst": "Volim te", "kategoria": "‚ù§", "jezyk": "Serbski"},
  {"tekst": "Te dua", "kategoria": "‚ù§", "jezyk": "Alba≈Ñski"},
  {"tekst": "Ew ji te hez dikim", "kategoria": "‚ù§", "jezyk": "Kurdyjski"},
  {"tekst": "Ngo oiy ney", "kategoria": "‚ù§", "jezyk": "Kanto≈Ñski"},
  {"tekst": "Chit tae thu", "kategoria": "‚ù§", "jezyk": "Birma≈Ñski"},
  {"tekst": "Toi yeu ban", "kategoria": "‚ù§", "jezyk": "Wietnamski (T√¥i&nbsp;y√™u&nbsp;b·∫°n)"},
  {"tekst": "Bhalobashi tomay", "kategoria": "‚ù§", "jezyk": "Bengalski"},
  {"tekst": "Mo nife re", "kategoria": "‚ù§", "jezyk": "Joruba (Mo&nbsp;nif·∫π&nbsp;r·∫π)"},
  {"tekst": "Ndagukunda", "kategoria": "‚ù§", "jezyk": "Kinyarwanda"},
  {"tekst": "Ek het jou lief", "kategoria": "‚ù§", "jezyk": "Afrikaans"},
  {"tekst": "Ngiyakuthanda", "kategoria": "‚ù§", "jezyk": "Zulu"},
  {"tekst": "Ke a go rata", "kategoria": "‚ù§", "jezyk": "Setswana"},
  {"tekst": "Ndimakukonda", "kategoria": "‚ù§", "jezyk": "Chewa"},
  {"tekst": "Ngiyakuthanda", "kategoria": "‚ù§", "jezyk": "Xhosa"},
  {"tekst": "Nakupenda", "kategoria": "‚ù§", "jezyk": "Suahili"},
  {"tekst": "Mi volas vin ami", "kategoria": "‚ù§", "jezyk": "Esperanto (formalnie)"},
  {"tekst": "Taim i' ngra leat", "kategoria": "‚ù§", "jezyk": "Irlandzki (inaczej)"},
  {"tekst": "Volim te puno", "kategoria": "‚ù§", "jezyk": "Serbsko-chorwacki"},
  {"tekst": "Kocham ciƒô bardzo", "kategoria": "‚ù§", "jezyk": "Polski (inaczej)"},
  {"tekst": "Aishiteru yo", "kategoria": "‚ù§", "jezyk": "Japo≈Ñski (potocznie)"},
  {"tekst": "Te iubesc mult", "kategoria": "‚ù§", "jezyk": "Rumu≈Ñski (potocznie)"},
  {"tekst": "Aloha wau ia 'oe", "kategoria": "‚ù§", "jezyk": "Hawajski"},
  {"tekst": "Ua ou te alofa ia te oe", "kategoria": "‚ù§", "jezyk": "Samoa≈Ñski"},
  {"tekst": "Toku aroha au ki a koe", "kategoria": "‚ù§", "jezyk": "Maoryski"},
  {"tekst": "T'estimi", "kategoria": "‚ù§", "jezyk": "Katalo≈Ñski (inaczej)"},
  {"tekst": "Te sakam", "kategoria": "‚ù§", "jezyk": "Macedo≈Ñski"},
  {"tekst": "Mwen renmen ou", "kategoria": "‚ù§", "jezyk": "Haita≈Ñski kreolski"},
  {"tekst": "Njan ninne snehikkunnu", "kategoria": "‚ù§", "jezyk": "Malajalam"},
  {"tekst": "Hum tumhe pyar karte hain", "kategoria": "‚ù§", "jezyk": "Urdu"},
  {"tekst": "Mahal kita", "kategoria": "‚ù§", "jezyk": "Tagalog"},
  {"tekst": "Tora dost daram", "kategoria": "‚ù§", "jezyk": "Perski"},
  {"tekst": "Seni seviyorum cok", "kategoria": "‚ù§", "jezyk": "Turecki (inaczej) (Seni&nbsp;seviyorum&nbsp;√ßok)"},
  {"tekst": "Me do wo", "kategoria": "‚ù§", "jezyk": "Akan"},
  {"tekst": "Ngiyakuthanda kakhulu", "kategoria": "‚ù§", "jezyk": "Zulu (inaczej)"},
  {"tekst": "T'estime molt", "kategoria": "‚ù§", "jezyk": "Katalo≈Ñski (inaczej)"},
  {"tekst": "Ana uhibbuka", "kategoria": "‚ù§", "jezyk": "Arabski (literacki)"},
  {"tekst": "Ninapenda wewe", "kategoria": "‚ù§", "jezyk": "Suahili (inaczej)"},
  {"tekst": "Ek is lief vir jou", "kategoria": "‚ù§", "jezyk": "Afrikaans (inaczej)"},
  {"tekst": "Ngiyakuthanda kakhulu", "kategoria": "‚ù§", "jezyk": "Xhosa (inaczej)"},
  {"tekst": "Ngo oi nei", "kategoria": "‚ù§", "jezyk": "Kanto≈Ñski (inaczej)"},
  {"tekst": "Chit tae thu nay kaung lar", "kategoria": "‚ù§", "jezyk": "Birma≈Ñski (potocznie)"},
  {"tekst": "Aishitemasu", "kategoria": "‚ù§", "jezyk": "Japo≈Ñski (formalnie)"}
];

const firsthasla = [
  {"tekst": "Hiszpania", "kategoria": "kraje" },
  {"tekst": "Truskawka", "kategoria": "owoce i warzywa" },
  {"tekst": "Mustang", "kategoria": "samochody" },
  {"tekst": "Pies", "kategoria": "zwierzƒôta" },
  {"tekst": "Banan", "kategoria": "owoce i warzywa" },
  {"tekst": "BMW", "kategoria": "samochody" },
  {"tekst": "Niemcy", "kategoria": "kraje" },
  {"tekst": "Krokodyl", "kategoria": "zwierzƒôta" },
  {"tekst": "Pomara≈Ñcza", "kategoria": "owoce i warzywa" },
  {"tekst": "Warszawa", "kategoria": "miasta" },
  {"tekst": "Zebra", "kategoria": "zwierzƒôta" },
  {"tekst": "Fiat", "kategoria": "samochody" },
  {"tekst": "S≈Ço≈Ñ", "kategoria": "zwierzƒôta" },
  {"tekst": "Krak√≥w", "kategoria": "miasta" },
  {"tekst": "Gda≈Ñsk", "kategoria": "miasta" },
  {"tekst": "Wroc≈Çaw", "kategoria": "miasta" },
  {"tekst": "Volkswagen", "kategoria": "samochody" },
  {"tekst": "W≈Çochy", "kategoria": "kraje" },
  {"tekst": "Marchewka", "kategoria": "owoce i warzywa" },
  {"tekst": "Kot", "kategoria": "zwierzƒôta" },
  {"tekst": "Pozna≈Ñ", "kategoria": "miasta" },
  {"tekst": "Francja", "kategoria": "kraje" },
  {"tekst": "Polska", "kategoria": "kraje" }
];

const normalHasla = [
  {"tekst": "KsiƒÖ≈ºka", "kategoria": "przedmioty"},
  {"tekst": "Komputer", "kategoria": "przedmioty"},
  {"tekst": "Telefon", "kategoria": "przedmioty"},
  {"tekst": "Samolot", "kategoria": "transport"},
  {"tekst": "Rower", "kategoria": "transport"},
  {"tekst": "PociƒÖg", "kategoria": "transport"},
  {"tekst": "Statek", "kategoria": "transport"},
  {"tekst": "Telewizor", "kategoria": "przedmioty"},
  {"tekst": "Radio", "kategoria": "przedmioty"},
  {"tekst": "Lod√≥wka", "kategoria": "przedmioty"},
  {"tekst": "Pustynia", "kategoria": "miejsca"},
  {"tekst": "Teoria zbior√≥w", "kategoria": "matma"},
  {"tekst": "Owca", "kategoria": "zwierzƒôta"},
  {"tekst": "Teoria liczb", "kategoria": "matma"},
  {"tekst": "Mchy", "kategoria": "ro≈õliny"},
  {"tekst": "Potas", "kategoria": "chemia"},
  {"tekst": "Brzoskwinia", "kategoria": "owoce"},
  {"tekst": "Wagon", "kategoria": "transport"},
  {"tekst": "Cytryna", "kategoria": "owoce"},
  {"tekst": "Bor", "kategoria": "chemia"},
  {"tekst": "≈ªyrafa", "kategoria": "zwierzƒôta"},
  {"tekst": "Z≈Çoto", "kategoria": "chemia"},
  {"tekst": "Bor√≥wka", "kategoria": "ro≈õliny"},
  {"tekst": "Samoch√≥d", "kategoria": "pojazdy"},
  {"tekst": "Wie≈õ", "kategoria": "miejsca"},
  {"tekst": "Jezioro", "kategoria": "miejsca"},
  {"tekst": "Rakieta", "kategoria": "transport"},
  {"tekst": "Linijka", "kategoria": "przedmioty"},
  {"tekst": "Kucharz", "kategoria": "zawody"},
  {"tekst": "Wkrƒôtak", "kategoria": "narzƒôdzia"},
  {"tekst": "Tantal", "kategoria": "chemia"},
  {"tekst": "Indyk", "kategoria": "zwierzƒôta"},
  {"tekst": "Gƒô≈õ", "kategoria": "zwierzƒôta"},
  {"tekst": "Krowa", "kategoria": "zwierzƒôta"},
  {"tekst": "Lew", "kategoria": "zwierzƒôta"},
  {"tekst": "Xenon", "kategoria": "chemia"},
  {"tekst": "Portfel", "kategoria": "przedmioty"},
  {"tekst": "Banan", "kategoria": "owoce"},
  {"tekst": "Fortepian", "kategoria": "instrumenty"},
  {"tekst": "We≈Çna", "kategoria": "materia≈Çy"},
  {"tekst": "Ruten", "kategoria": "chemia"},
  {"tekst": "Papuga", "kategoria": "zwierzƒôta"},
  {"tekst": "Zebra", "kategoria": "zwierzƒôta"},
  {"tekst": "Deszcz", "kategoria": "pogoda"},
  {"tekst": "Szk≈Ço", "kategoria": "materia≈Çy"},
  {"tekst": "Ceg≈Ça", "kategoria": "materia≈Çy"},
  {"tekst": "N√≥≈º", "kategoria": "przedmioty"},
  {"tekst": "Matematyka teoretyczna", "kategoria": "matma"},
  {"tekst": "Krzem", "kategoria": "chemia"},
  {"tekst": "Og√≥rek", "kategoria": "warzywa"},
  {"tekst": "R√≥≈ºa", "kategoria": "ro≈õliny"},
  {"tekst": "Malina", "kategoria": "owoce"},
  {"tekst": "Malina", "kategoria": "ro≈õliny"},
  {"tekst": "Ry≈º", "kategoria": "jedzenie"},
  {"tekst": "Winogrona", "kategoria": "owoce"},
  {"tekst": "Klarnet", "kategoria": "instrumenty"},
  {"tekst": "Zupa", "kategoria": "jedzenie"},
  {"tekst": "Wap≈Ñ", "kategoria": "chemia"},
  {"tekst": "M≈Çot pneumatyczny", "kategoria": "narzƒôdzia"},
  {"tekst": "Jarzƒôbina", "kategoria": "ro≈õliny"},
  {"tekst": "Wƒôgiel", "kategoria": "chemia"},
  {"tekst": "Boks", "kategoria": "sport"},
  {"tekst": "Lawenda", "kategoria": "ro≈õliny"},
  {"tekst": "Konsola", "kategoria": "technologia"},
  {"tekst": "Notes", "kategoria": "przedmioty"},
  {"tekst": "Atrament", "kategoria": "ciecze"},
  {"tekst": "St√≥≈Ç", "kategoria": "przedmioty"},
  {"tekst": "Drzewo", "kategoria": "ro≈õliny"},
  {"tekst": "Programista", "kategoria": "zawody"},
  {"tekst": "Hokej", "kategoria": "sport"},
  {"tekst": "Nauczyciel", "kategoria": "zawody"},
  {"tekst": "Kadm", "kategoria": "chemia"},
  {"tekst": "Sa≈Çata", "kategoria": "warzywa"},
  {"tekst": "Lustro", "kategoria": "przedmioty"},
  {"tekst": "Drewno", "kategoria": "materia≈Çy"},
  {"tekst": "Ocet", "kategoria": "ciecze"},
  {"tekst": "Mysz", "kategoria": "zwierzƒôta"},
  {"tekst": "Mysz", "kategoria": "technologia"},
  {"tekst": "Grusza", "kategoria": "ro≈õliny"},
  {"tekst": "No≈ºyce", "kategoria": "narzƒôdzia"},
  {"tekst": "Harmonijka", "kategoria": "instrumenty"},
  {"tekst": "Drukarka", "kategoria": "technologia"},
  {"tekst": "Stra≈º", "kategoria": "transport"},
  {"tekst": "Helikopter", "kategoria": "transport"},
  {"tekst": "Niob", "kategoria": "chemia"},
  {"tekst": "Gitara", "kategoria": "instrumenty"},
  {"tekst": "Fryzjer", "kategoria": "zawody"},
  {"tekst": "Widelec", "kategoria": "przedmioty"},
  {"tekst": "Kura", "kategoria": "zwierzƒôta"},
  {"tekst": "Srebro", "kategoria": "chemia"},
  {"tekst": "Matematyka stosowana", "kategoria": "matma"},
  {"tekst": "Piwo", "kategoria": "ciecze"},
  {"tekst": "Skoki narciarskie", "kategoria": "sport"},
  {"tekst": "Zeszyt", "kategoria": "przedmioty"},
  {"tekst": "Zio≈Ço", "kategoria": "ro≈õliny"},
  {"tekst": "G≈Ço≈õnik", "kategoria": "technologia"},
  {"tekst": "S≈Ço≈Ñce", "kategoria": "pogoda"},
  {"tekst": "Zegar", "kategoria": "przedmioty"},
  {"tekst": "Marchewka", "kategoria": "warzywa"},
  {"tekst": "Iridium", "kategoria": "chemia"},
  {"tekst": "Policjant", "kategoria": "zawody"},
  {"tekst": "Skrzypce", "kategoria": "instrumenty"},
  {"tekst": "Perkusja", "kategoria": "instrumenty"},
  {"tekst": "Logika matematyczna", "kategoria": "matma"},
  {"tekst": "≈Å√≥d≈∫ podwodna", "kategoria": "transport"},
  {"tekst": "Kabriolet", "kategoria": "transport"},
  {"tekst": "Wino", "kategoria": "ciecze"},
  {"tekst": "Drzwi", "kategoria": "przedmioty"},
  {"tekst": "R√≥wnanie", "kategoria": "matma"},
  {"tekst": "Kolejka linowa", "kategoria": "transport"},
  {"tekst": "Kwiat", "kategoria": "ro≈õliny"},
  {"tekst": "Szko≈Ça", "kategoria": "miejsca"},
  {"tekst": "Ogrodnik", "kategoria": "zawody"},
  {"tekst": "Tkanina", "kategoria": "materia≈Çy"},
  {"tekst": "Limonka", "kategoria": "owoce"},
  {"tekst": "Papier", "kategoria": "materia≈Çy"},
  {"tekst": "Hel", "kategoria": "chemia"},
  {"tekst": "Las", "kategoria": "miejsca"},
  {"tekst": "Pizza", "kategoria": "jedzenie"},
  {"tekst": "Sk√≥ra", "kategoria": "materia≈Çy"},
  {"tekst": "Wod√≥r", "kategoria": "chemia"},
  {"tekst": "Krzak", "kategoria": "ro≈õliny"},
  {"tekst": "≈önieg", "kategoria": "pogoda"},
  {"tekst": "Hamburger", "kategoria": "jedzenie"},
  {"tekst": "Ma≈Çpa", "kategoria": "zwierzƒôta"},
  {"tekst": "Bieganie", "kategoria": "sport"},
  {"tekst": "Motor", "kategoria": "transport"},
  {"tekst": "≈örubokrƒôt", "kategoria": "narzƒôdzia"},
  {"tekst": "Deskorolka", "kategoria": "transport"},
  {"tekst": "Koszyk√≥wka", "kategoria": "sport"},
  {"tekst": "Krzew", "kategoria": "ro≈õliny"},
  {"tekst": "Fosfor", "kategoria": "chemia"},
  {"tekst": "Stra≈ºak", "kategoria": "zawody"},
  {"tekst": "TrƒÖbka", "kategoria": "instrumenty"},
  {"tekst": "Golf", "kategoria": "sport"},
  {"tekst": "Pallad", "kategoria": "chemia"},
  {"tekst": "Ryba", "kategoria": "zwierzƒôta"},
  {"tekst": "Ryba", "kategoria": "produkty"},
  {"tekst": "Sok√≥≈Ç", "kategoria": "zwierzƒôta"},
  {"tekst": "B√≥br", "kategoria": "zwierzƒôta"},
  {"tekst": "Pi≈Çka", "kategoria": "narzƒôdzia"},
  {"tekst": "Lody", "kategoria": "jedzenie"},
  {"tekst": "Metro", "kategoria": "transport"},
  {"tekst": "Piekarz", "kategoria": "zawody"},
  {"tekst": "Miasto", "kategoria": "miejsca"},
  {"tekst": "Trawa", "kategoria": "ro≈õliny"},
  {"tekst": "Jod", "kategoria": "chemia"},
  {"tekst": "Sanki", "kategoria": "transport"},
  {"tekst": "Skuter", "kategoria": "transport"},
  {"tekst": "O≈Ç√≥wek", "kategoria": "przedmioty"},
  {"tekst": "Neon", "kategoria": "chemia"},
  {"tekst": "Chleb", "kategoria": "jedzenie"},
  {"tekst": "Wektor", "kategoria": "matma"},
  {"tekst": "Jab≈Çko", "kategoria": "owoce"},
  {"tekst": "Klawiatura", "kategoria": "technologia"},
  {"tekst": "Aluminium", "kategoria": "materia≈Çy"},
  {"tekst": "Hulajnoga elektryczna", "kategoria": "transport"},
  {"tekst": "Argon", "kategoria": "chemia"},
  {"tekst": "Krzes≈Ço", "kategoria": "przedmioty"},
  {"tekst": "Koza", "kategoria": "zwierzƒôta"},
  {"tekst": "Sok", "kategoria": "ciecze"},
  {"tekst": "Szachy", "kategoria": "sport"},
  {"tekst": "Wilk", "kategoria": "zwierzƒôta"},
  {"tekst": "Lekarz", "kategoria": "zawody"},
  {"tekst": "Kombinatoryka", "kategoria": "matma"},
  {"tekst": "Gumka", "kategoria": "przedmioty"},
  {"tekst": "Klucz", "kategoria": "narzƒôdzia"},
  {"tekst": "Brom", "kategoria": "chemia"},
  {"tekst": "Karetka", "kategoria": "transport"},
  {"tekst": "Stal", "kategoria": "materia≈Çy"},
  {"tekst": "Toster", "kategoria": "kuchnia"},
  {"tekst": "Kajakarstwo", "kategoria": "sport"},
  {"tekst": "Sekator", "kategoria": "narzƒôdzia"},
  {"tekst": "Skarpetki", "kategoria": "przedmioty"},
  {"tekst": "Rachunek ca≈Çkowy", "kategoria": "matma"},
  {"tekst": "Beryl", "kategoria": "chemia"},
  {"tekst": "Szklanka", "kategoria": "przedmioty"},
  {"tekst": "Kilof", "kategoria": "narzƒôdzia"},
  {"tekst": "≈Åopata", "kategoria": "narzƒôdzia"},
  {"tekst": "Herbata", "kategoria": "ciecze"},
  {"tekst": "Brzoza", "kategoria": "ro≈õliny"},
  {"tekst": "Fikus", "kategoria": "ro≈õliny"},
  {"tekst": "Skrzynka", "kategoria": "przedmioty"},
  {"tekst": "Ko≈õci√≥≈Ç", "kategoria": "miejsca"},
  {"tekst": "Waga", "kategoria": "narzƒôdzia"},
  {"tekst": "Lis", "kategoria": "zwierzƒôta"},
  {"tekst": "Zegarek", "kategoria": "przedmioty"},
  {"tekst": "Szafa", "kategoria": "przedmioty"},
  {"tekst": "Kaktusowiec", "kategoria": "ro≈õliny"},
  {"tekst": "Jab≈Ço≈Ñ", "kategoria": "ro≈õliny"},
  {"tekst": "Lit", "kategoria": "chemia"},
  {"tekst": "Kubek", "kategoria": "przedmioty"},
  {"tekst": "Platyna", "kategoria": "chemia"},
  {"tekst": "Paproƒá", "kategoria": "ro≈õliny"},
  {"tekst": "Siatk√≥wka", "kategoria": "sport"},
  {"tekst": "Chaber", "kategoria": "ro≈õliny"},
  {"tekst": "Rugby", "kategoria": "sport"},
  {"tekst": "M≈Çotek", "kategoria": "narzƒôdzia"},
  {"tekst": "Plecak", "kategoria": "przedmioty"},
  {"tekst": "Rtƒôƒá", "kategoria": "chemia"},
  {"tekst": "≈ªelazo", "kategoria": "chemia"},
  {"tekst": "Wi≈õnia", "kategoria": "ro≈õliny"},
  {"tekst": "Wi≈õnia", "kategoria": "owoce"},
  {"tekst": "No≈ºyczki", "kategoria": "przedmioty"},
  {"tekst": "Sa≈Çatka", "kategoria": "jedzenie"},
  {"tekst": "Awokado", "kategoria": "owoce"},
  {"tekst": "Buty", "kategoria": "przedmioty"},
  {"tekst": "Analiza matematyczna", "kategoria": "matma"},
  {"tekst": "G√≥ry", "kategoria": "miejsca"},
  {"tekst": "Sinus", "kategoria": "matma"},
  {"tekst": "Palma", "kategoria": "ro≈õliny"},
  {"tekst": "Kaczka", "kategoria": "zwierzƒôta"},
  {"tekst": "Mleko", "kategoria": "ciecze"},
  {"tekst": "Lilia", "kategoria": "ro≈õliny"},
  {"tekst": "Mg≈Ça", "kategoria": "pogoda"},
  {"tekst": "Truskawka", "kategoria": "ro≈õliny"},
  {"tekst": "Truskawka", "kategoria": "owoce"},
  {"tekst": "Zamek", "kategoria": "miejsca"},
  {"tekst": "Kleszcze", "kategoria": "narzƒôdzia"},
  {"tekst": "Kanapka", "kategoria": "jedzenie"},
  {"tekst": "Pi≈Ça", "kategoria": "narzƒôdzia"},
  {"tekst": "Ceramika", "kategoria": "materia≈Çy"},
  {"tekst": "P≈Çywanie", "kategoria": "sport"},
  {"tekst": "Trolejbus", "kategoria": "transport"},
  {"tekst": "Pomara≈Ñcza", "kategoria": "owoce"},
  {"tekst": "Mied≈∫", "kategoria": "chemia"},
  {"tekst": "Mied≈∫", "kategoria": "materia≈Çy"},
  {"tekst": "Azot", "kategoria": "chemia"},
  {"tekst": "Gips", "kategoria": "materia≈Çy"},
  {"tekst": "Technet", "kategoria": "chemia"},
  {"tekst": "Balon", "kategoria": "transport"},
  {"tekst": "Pla≈ºa", "kategoria": "miejsca"},
  {"tekst": "Wiertarka", "kategoria": "narzƒôdzia"},
  {"tekst": "Frytki", "kategoria": "jedzenie"},
  {"tekst": "Tangens", "kategoria": "matma"},
  {"tekst": "Molibden", "kategoria": "chemia"},
  {"tekst": "Logarytm", "kategoria": "matma"},
  {"tekst": "Beton", "kategoria": "materia≈Çy"},
  {"tekst": "≈ª√≥≈Çw", "kategoria": "zwierzƒôta"},
  {"tekst": "Pƒôdzel", "kategoria": "narzƒôdzia"},
  {"tekst": "Mr√≥z", "kategoria": "pogoda"},
  {"tekst": "Jod≈Ça", "kategoria": "ro≈õliny"},
  {"tekst": "Autobus", "kategoria": "transport"},
  {"tekst": "Miarka", "kategoria": "narzƒôdzia"},
  {"tekst": "Banana", "kategoria": "owoce"},
  {"tekst": "Tytan", "kategoria": "chemia"},
  {"tekst": "Olej", "kategoria": "ciecze"},
  {"tekst": "PƒÖczek", "kategoria": "jedzenie"},
  {"tekst": "Tenis", "kategoria": "sport"},
  {"tekst": "Zmywarka", "kategoria": "kuchnia"},
  {"tekst": "Cosinus", "kategoria": "matma"},
  {"tekst": "Mechanik", "kategoria": "zawody"},
  {"tekst": "≈öliwka", "kategoria": "owoce"},
  {"tekst": "Sos", "kategoria": "jedzenie"},
  {"tekst": "Fluor", "kategoria": "chemia"},
  {"tekst": "Fotel", "kategoria": "przedmioty"},
  {"tekst": "≈Å√≥≈ºko", "kategoria": "przedmioty"},
  {"tekst": "Mikrofon", "kategoria": "technologia"},
  {"tekst": "Kreda", "kategoria": "materia≈Çy"},
  {"tekst": "In≈ºynier", "kategoria": "zawody"},
  {"tekst": "Motocykl", "kategoria": "pojazdy"},
  {"tekst": "Kiwi", "kategoria": "owoce"},
  {"tekst": "Woda", "kategoria": "ciecze"},
  {"tekst": "≈ªeglarstwo", "kategoria": "sport"},
  {"tekst": "Smartfon", "kategoria": "technologia"},
  {"tekst": "Dziennikarz", "kategoria": "zawody"},
  {"tekst": "Kamera", "kategoria": "technologia"},
  {"tekst": "Szlifierka", "kategoria": "narzƒôdzia"},
  {"tekst": "Czajnik", "kategoria": "kuchnia"},
  {"tekst": "Rachunek r√≥≈ºniczkowy", "kategoria": "matma"},
  {"tekst": "Winogrono", "kategoria": "owoce"},
  {"tekst": "Traktor", "kategoria": "transport"},
  {"tekst": "Pies", "kategoria": "zwierzƒôta"},
  {"tekst": "≈ªaba", "kategoria": "zwierzƒôta"},
  {"tekst": "Tramwaj", "kategoria": "transport"},
  {"tekst": "Wolfram", "kategoria": "chemia"},
  {"tekst": "Bawe≈Çna", "kategoria": "materia≈Çy"},
  {"tekst": "Metal", "kategoria": "materia≈Çy"},
  {"tekst": "Lotnisko", "kategoria": "miejsca"},
  {"tekst": "Ziemniak", "kategoria": "warzywa"},
  {"tekst": "Osm", "kategoria": "chemia"},
  {"tekst": "Prawdopodobie≈Ñstwo", "kategoria": "matma"},
  {"tekst": "Wiatr", "kategoria": "pogoda"},
  {"tekst": "Taks√≥wka", "kategoria": "transport"},
  {"tekst": "Je≈º", "kategoria": "zwierzƒôta"},
  {"tekst": "Park", "kategoria": "miejsca"},
  {"tekst": "Tlen", "kategoria": "chemia"},
  {"tekst": "Pomelo", "kategoria": "owoce"},
  {"tekst": "≈Åy≈ºka", "kategoria": "przedmioty"},
  {"tekst": "Lampa", "kategoria": "przedmioty"},
  {"tekst": "Topologia", "kategoria": "matma"},
  {"tekst": "Tulipan", "kategoria": "ro≈õliny"},
  {"tekst": "Mi√≥d", "kategoria": "jedzenie"},
  {"tekst": "Ciasto", "kategoria": "jedzenie"},
  {"tekst": "Ob√≥j", "kategoria": "instrumenty"},
  {"tekst": "Sosna", "kategoria": "ro≈õliny"},
  {"tekst": "Hulajnoga", "kategoria": "transport"},
  {"tekst": "W√≥zek", "kategoria": "transport"},
  {"tekst": "Lampka", "kategoria": "przedmioty"},
  {"tekst": "Okulary", "kategoria": "przedmioty"},
  {"tekst": "Biurko", "kategoria": "przedmioty"},
  {"tekst": "Sasanka", "kategoria": "ro≈õliny"},
  {"tekst": "Router", "kategoria": "technologia"},
  {"tekst": "Radon", "kategoria": "chemia"},
  {"tekst": "Artysta", "kategoria": "zawody"},
  {"tekst": "Sekretarka", "kategoria": "zawody"},
  {"tekst": "Cyna", "kategoria": "chemia"},
  {"tekst": "Matematyka dyskretna", "kategoria": "matma"},
  {"tekst": "Konwalia", "kategoria": "ro≈õliny"},
  {"tekst": "Rad", "kategoria": "chemia"},
  {"tekst": "Fio≈Çek", "kategoria": "ro≈õliny"},
  {"tekst": "Statystyka", "kategoria": "matma"},
  {"tekst": "Flet", "kategoria": "instrumenty"},
  {"tekst": "Pi", "kategoria": "matma <3", "fireworks": "pi"},
  {"tekst": "Notatnik", "kategoria": "przedmioty"},
  {"tekst": "Jazda na rowerze", "kategoria": "sport"},
  {"tekst": "D≈Çugopis", "kategoria": "przedmioty"},
  {"tekst": "Jogurt", "kategoria": "jedzenie"},
  {"tekst": "Ser", "kategoria": "jedzenie"},
  {"tekst": "Klej", "kategoria": "narzƒôdzia"},
  {"tekst": "Teoria graf√≥w", "kategoria": "matma"},
  {"tekst": "Laptop", "kategoria": "technologia"},
  {"tekst": "Sprzedawca", "kategoria": "zawody"},
  {"tekst": "Fotograf", "kategoria": "zawody"},
  {"tekst": "Miƒôso", "kategoria": "jedzenie"},
  {"tekst": "Ko≈Ñ", "kategoria": "zwierzƒôta"},
  {"tekst": "O≈Ç√≥w", "kategoria": "chemia"},
  {"tekst": "Akordeon", "kategoria": "instrumenty"},
  {"tekst": "Guma", "kategoria": "materia≈Çy"},
  {"tekst": "Macierz", "kategoria": "matma"},
  {"tekst": "Pomidory", "kategoria": "warzywa"},
  {"tekst": "Magnez", "kategoria": "chemia"},
  {"tekst": "Uran", "kategoria": "chemia"},
  {"tekst": "Okno", "kategoria": "przedmioty"},
  {"tekst": "Kawa≈Çek", "kategoria": "jedzenie"},
  {"tekst": "Miernik", "kategoria": "narzƒôdzia"},
  {"tekst": "Tygrys", "kategoria": "zwierzƒôta"},
  {"tekst": "Siarka", "kategoria": "chemia"},
  {"tekst": "Chlor", "kategoria": "chemia"},
  {"tekst": "Orze≈Ç", "kategoria": "zwierzƒôta"},
  {"tekst": "Burza", "kategoria": "pogoda"},
  {"tekst": "Kot", "kategoria": "zwierzƒôta"},
  {"tekst": "Ogr√≥d", "kategoria": "miejsca"},
  {"tekst": "Ananas", "kategoria": "owoce"},
  {"tekst": "Pi√≥rnik", "kategoria": "przedmioty"},
  {"tekst": "Morze", "kategoria": "miejsca"},
  {"tekst": "Kierowca", "kategoria": "zawody"},
  {"tekst": "Tƒôcza", "kategoria": "pogoda"},
  {"tekst": "Helium", "kategoria": "chemia"},
  {"tekst": "Czere≈õnia", "kategoria": "owoce"},
  {"tekst": "Bukiet", "kategoria": "ro≈õliny"},
  {"tekst": "DƒÖb", "kategoria": "ro≈õliny"},
  {"tekst": "Plastik", "kategoria": "materia≈Çy"},
  {"tekst": "Krypton", "kategoria": "chemia"},
  {"tekst": "Kapelusz", "kategoria": "przedmioty"},
  {"tekst": "Hydraulik", "kategoria": "zawody"},
  {"tekst": "Gruszka", "kategoria": "owoce"},
  {"tekst": "Ksenon", "kategoria": "chemia"},
  {"tekst": "Torba", "kategoria": "przedmioty"},
  {"tekst": "Rzeka", "kategoria": "miejsca"},
  {"tekst": "Jajko", "kategoria": "jedzenie"},
  {"tekst": "Marakuja", "kategoria": "owoce"},
  {"tekst": "Prawnik", "kategoria": "zawody"},
  {"tekst": "S≈Ço≈Ñ", "kategoria": "zwierzƒôta"},
  {"tekst": "Algebra", "kategoria": "matma"},
  {"tekst": "Projektor", "kategoria": "technologia"},
  {"tekst": "Geometria", "kategoria": "matma"},
  {"tekst": "Bojler", "kategoria": "sprzƒôt"},
  {"tekst": "Frezja", "kategoria": "ro≈õliny"},
  {"tekst": "Pi≈Çka no≈ºna", "kategoria": "sport"},
  {"tekst": "Mniszek", "kategoria": "ro≈õliny"},
  {"tekst": "Kaktus", "kategoria": "ro≈õliny"},
  {"tekst": "Tablet", "kategoria": "technologia"},
  {"tekst": "Cynk", "kategoria": "chemia"},
  {"tekst": "Grad", "kategoria": "pogoda"},
  {"tekst": "Mas≈Ço", "kategoria": "jedzenie"},
  {"tekst": "S√≥d", "kategoria": "chemia"},
  {"tekst": "Funkcja", "kategoria": "matma"},
  {"tekst": "Kawa", "kategoria": "ciecze"},
  {"tekst": "Chmura", "kategoria": "pogoda"},
  {"tekst": "Makaron", "kategoria": "jedzenie"},
  {"tekst": "Krew", "kategoria": "ciecze"},
  {"tekst": "≈Å√≥d≈∫", "kategoria": "transport"},
  {"tekst": "Kurtka", "kategoria": "przedmioty"},
  {"tekst": "E", "kategoria": "matma"},
  {"tekst": "Rhod", "kategoria": "chemia"},
  {"tekst": "Farba", "kategoria": "ciecze"},
  {"tekst": "Granat", "kategoria": "owoce"},
  {"tekst": "Paprotka", "kategoria": "ro≈õliny"},
  {"tekst": "Figa", "kategoria": "owoce"},
  {"tekst": "Klepsydra", "kategoria": "przedmioty"},
  {"tekst": "Klejenie", "kategoria": "akcja"},
  {"tekst": "Koniec", "kategoria": "To ju≈º jest"}
];

let currentMode = localStorage.getItem('hasla-list');
if (currentMode === null) {
  localStorage.setItem('hasla-list', 'normal');
  currentMode = 'normal';
}

if (localStorage.getItem('indexHasla') === null) {
  localStorage.setItem('indexHasla', '0');
}

function setMode() {
  if (currentMode === 'old') {
    hasla = [...firsthasla, ...normalHasla];
  } else if (currentMode === 'ori') {
    hasla = [...oriGinal, ...firsthasla, ...normalHasla];
  } else {
    hasla = normalHasla;
  }
}
setMode();

const litery = ["A","ƒÑ","B","C","ƒÜ","D","E","ƒò","F","G","H","I","J","K","L","≈Å","M","N","≈É","O","√ì","P","Q","R","S","≈ö","T","U","V","W","X","Y","Z","≈ª","≈π"];

let indexHasla, haslo, kategoria, haslo1, ile_skuch = 0;
let showCounts = false;

let isCustom = false;

const urlParams = new URLSearchParams(window.location.search);

if (urlParams.has('set-index')) {
  const index = parseInt(urlParams.get('set-index')) - 1;
  if (!isNaN(index) && index >= 0 && index < hasla.length) {
    localStorage.setItem("indexHasla", index);
    window.location.replace(window.location.pathname);
  }
}

if (localStorage.getItem("indexHasla") > hasla.length - 1) {
  localStorage.setItem("indexHasla", hasla.length - 1);
}

String.prototype.ustawZnak = function (miejsce, znak) {
  return this.substr(0, miejsce) + znak + this.substr(miejsce + 1);
};

function getWordLetterCounts(phrase) {
  let words = phrase.split(' ');
  return words.map(w => {
    let count = 0;
    for (let ch of w) {
      if (litery.includes(ch.toUpperCase())) count++;
    }
    return count;
  });
}

function wypiszHaslo() {
  let baseLine = "";
  if (kategoria === "‚ù§") {
    baseLine = `(<span style='color: red;'>‚ù§</span>): ${haslo1}`;
  } else if (isCustom) {
    baseLine = `(${kategoria}): ${haslo1}`;
  } else {
    let numer = indexHasla + 1;
    baseLine = `#${numer} (${kategoria}): ${haslo1}`;
  }
  
  if (showCounts) {
    let counts = getWordLetterCounts(haslo);
    baseLine += ' (' + counts.join('&nbsp;') + ')';
  }
  document.getElementById("plansza").innerHTML = `<div style="user-select:none;">${baseLine}</div>`;
}

function start(custom = 0) {
  if (custom == 1){
    haslo = document.getElementById('settings-custom-haslo-input').value.toUpperCase();
    kategoria = document.getElementById('settings-custom-kategoria-input').value;
    if (kategoria === "") {
    kategoria = "CUSTOM";
    }
    isCustom = true;
  } else if (custom == 2){
    haslo = decodeURIComponent(atob(urlParams.get('ih'))).toUpperCase();
    kategoria = decodeURIComponent(atob(urlParams.get('ik')));
    isCustom = true;
  } else if (custom == 3) {
    haslo = decodeURIComponent(atob(urlParams.get('ih'))).toUpperCase();
    kategoria = 'Import';
    isCustom = true;
  } else {
    indexHasla = localStorage.getItem("indexHasla");
    indexHasla = indexHasla === null ? 0 : parseInt(indexHasla);
    isCustom = false;

    // Fix: Validate indexHasla boundaries
    if (isNaN(indexHasla) || indexHasla < 0 || indexHasla >= hasla.length) {
      indexHasla = 0;
      localStorage.setItem("indexHasla", indexHasla);
    }

    haslo = hasla[indexHasla].tekst.toUpperCase();
    kategoria = hasla[indexHasla].kategoria;
    if (typeof hasla[indexHasla].jezyk !== 'undefined') {
      jezyk = hasla[indexHasla].jezyk;
    } else {
      jezyk = "";
    }
  }
  
  haslo1 = haslo.replace(/[A-Za-zƒÑƒÜƒò≈Å≈É√ì≈ö≈π≈ªƒÖƒáƒô≈Ç≈Ñ√≥≈õ≈∫≈º]/g, "‚Äë");
  ile_skuch = 0;

  let tresc = "";
  litery.forEach((litera, i) => {
    tresc += `<div class="litera" onclick="sprawdz(${i})" id="lit${i}">${litera}</div>`;
    if ((i + 1) % 7 === 0) tresc += '<div style="clear:both;"></div>';
  });

  document.getElementById("alfabet").innerHTML = tresc;
  document.getElementById("szubienica").innerHTML = `<img src="img/szubienice/default/s0.gif" alt="" />`;
  wypiszHaslo();
}

function sprawdz(nr) {
  let trafiona = false;
  const lit = litery[nr];
  for (let i = 0; i < haslo.length; i++) {
    if (haslo[i] === lit) {
      haslo1 = haslo1.ustawZnak(i, lit);
      trafiona = true;
    }
  }

  const el = document.getElementById("lit" + nr);
  el.style.cursor = "default";
  el.onclick = null;

  if (trafiona) {
    yes.play();
    el.style.background = "#003300";
    el.style.color = "#00C000";
    el.style.border = "3px solid #00C000";
  } else {
    no.play();
    el.style.background = "#330000";
    el.style.color = "#C00000";
    el.style.border = "3px solid #C00000";
    ile_skuch++;
    const obraz = `img/szubienice/default/s${ile_skuch}.gif`;
    document.getElementById("szubienica").innerHTML = `<img src="${obraz}" alt="" />`;
  }

  wypiszHaslo();

  if (haslo === haslo1) {
    if (typeof hasla[indexHasla].fireworks !== "undefined") {
      fireworks(hasla[indexHasla].fireworks);
    }
    if (jezyk !== '') {
      document.getElementById("alfabet").innerHTML = `
    Tak jest! Podano prawid≈Çowe has≈Ço: ${haslo} - ${jezyk}
    <br><br><span id="nextButton" class="reset" onclick="resetujGre()">NEXT?</span>`;
    } else {
      document.getElementById("alfabet").innerHTML = `
    Tak jest! Podano prawid≈Çowe has≈Ço: ${haslo}
    <br><br><span id="nextButton" class="reset" onclick="resetujGre()">NEXT?</span>`;
    }
    
    if (!isCustom) {
      indexHasla = (parseInt(indexHasla) + 1) % hasla.length;
      localStorage.setItem("indexHasla", indexHasla);
    }

  } else if (ile_skuch >= 9) {
    if (typeof hasla[indexHasla].fireworks !== "undefined") {
      fireworks(hasla[indexHasla].fireworks);
    }
    if (jezyk !== '') {
      document.getElementById("alfabet").innerHTML = `
    Przegrana! Prawid≈Çowe has≈Ço: ${haslo} - ${jezyk}
    <br><br><span id="nextButton" class="reset" onclick="resetujGre()">NEXT?</span>`;
    } else {
      document.getElementById("alfabet").innerHTML = `
    Przegrana! Prawid≈Çowe has≈Ço: ${haslo}
    <br><br><span id="nextButton" class="reset" onclick="resetujGre()">NEXT?</span>`;
    }
  
    if (!isCustom) {
      indexHasla = (parseInt(indexHasla) + 1) % hasla.length;
      localStorage.setItem("indexHasla", indexHasla);
    }
  }
}

function resetujGre() {
  if (urlParams.has('ih') && urlParams.has('ik'))  {
    /*window.location.replace(window.location.pathname);*/
    start();
  } else {
    /*location.reload();*/
    start();
  }
}

function modifyIndexHasla(difference) {
  newIndex = parseInt(localStorage.getItem('indexHasla')) + difference;
  if (newIndex < 0) {
    newIndex = 0;
  }
  /*console.log(`Changing indexHasla from ${localStorage.getItem('indexHasla')} to ${newIndex}`);*/
  localStorage.setItem('indexHasla', newIndex); 
}

function jump() {
  const input = document.getElementById('settings-jump-to-haslo-input');
  const index = parseInt(input.value, 10);

  if (!isNaN(index) && index >= 1 && index <= hasla.length) {
    /*(index == localStorage.getItem('indexHasla'))*/
    localStorage.setItem('indexHasla', index - 1);
    /*location.reload();*/
    start();
    document.getElementById("settings-jump-to-haslo-input").value = "";
    document.getElementById("settings-jump-to-haslo-input").placeholder = index;
  } else {
    alert("Wprowad≈∫ poprawny numer has≈Ça.");
  }
};

function exportHaslo() {
  const haslo = document.getElementById('settings-export-haslo-input').value;
  const kategoria = document.getElementById('settings-export-kategoria-input').value;
  const button = document.getElementById('settings-export-haslo-button');
  const copyInput = document.getElementById('settings-export-copy-input');
  const exportDiv = document.getElementById('export1');
  const copyDiv = document.getElementById('export2');

  if (haslo) {
    if (kategoria !== "") {
      const url = ('https://marekspodbiedry.github.io/orihm/ori.html?ih='+btoa(encodeURIComponent(haslo))+'&ik='+btoa(encodeURIComponent(kategoria)));
      copyInput.value = url;
      exportDiv.style.display = 'none';
      copyDiv.style.display = 'block';
    } else {
      const url = ('https://marekspodbiedry.github.io/orihm/ori.html?ih='+btoa(encodeURIComponent(haslo)));
      copyInput.value = url;
      exportDiv.style.display = 'none';
      copyDiv.style.display = 'block';
    }
  }
}

function copyHaslo() {
  const copyInput = document.getElementById('settings-export-copy-input');
  const exportDiv = document.getElementById('export1');
  const copyDiv = document.getElementById('export2');
  const button = document.getElementById('settings-export-haslo-button');

  copyInput.select();
  copyInput.setSelectionRange(0, 99999);

  navigator.clipboard.writeText(copyInput.value);
  exportDiv.style.display = 'block';
  copyDiv.style.display = 'none';
  button.textContent = 'Copied!';
  sleep(1).then(() => {
    button.textContent = 'Export';
  });
}

showCounts = localStorage.getItem('showCounts') === 'true';
function updateLetterCountButton() {
  const btn = document.getElementById('switch-letter-counting-button');
  btn.style.backgroundColor = showCounts ? 'lightgreen' : 'lightcoral';
  btn.style.color = '#222';
}

const OriGinalPassword = 'Orianka13'; /*I know it's not safe in front-end, but if someone wants to dig here he might as well look a few hundred lines above...*/

const oldModeButton = document.getElementById('switch-hasla-list-button');
const oriModeButton = document.getElementById('show-hidden-ori-hasla-button');

function updateHaslaListButtons() {
  oldModeButton.style.backgroundColor = currentMode === 'old' ? 'lightgreen' : 'lightcoral';
  oriModeButton.style.backgroundColor = currentMode === 'ori' ? 'lightblue' : 'lightcoral';
  oriModeButton.textContent = currentMode === 'ori' ? 'üîì' : 'üîí';
}

const lengthOriGinal = oriGinal.length
const lengthFirstHasla = firsthasla.length

function switchToOld() {
  if (indexHasla !== 0) {
    if (currentMode === 'ori') {
      modifyIndexHasla((0-lengthOriGinal));
    } else {
      modifyIndexHasla(lengthFirstHasla);
    }
  }
  currentMode = 'old';
  localStorage.setItem('hasla-list', currentMode);
  updateHaslaListButtons();
  /*location.reload();*/
  setMode();
  start();
}

function switchToNormal() {
  if (indexHasla !== 0) {
    if (currentMode === 'old') {
      modifyIndexHasla((0-lengthFirstHasla));
    } else {
      modifyIndexHasla((0-(lengthFirstHasla + lengthOriGinal)));
    }
  }
  currentMode = 'normal';
  localStorage.setItem('hasla-list', currentMode);
  updateHaslaListButtons();
  /*location.reload();*/
  setMode();
  start();
}

function switchToOri() {
  if (prompt('Password:') === OriGinalPassword) {
    if (indexHasla !== 0) {
      if (currentMode === 'old') {
        modifyIndexHasla(lengthOriGinal);
      } else {
        modifyIndexHasla((lengthFirstHasla + lengthOriGinal));
      }
    }
    currentMode = 'ori';
    localStorage.setItem('hasla-list', currentMode);
    updateHaslaListButtons();
    /*location.reload();*/
    setMode();
    start();
  } else {
    alert('Incorrect password!');
  }
}

oldModeButton.onclick = () => currentMode === 'old' ? switchToNormal() : switchToOld();
oriModeButton.onclick = () => currentMode === 'ori' ? switchToNormal() : switchToOri();

window.onload = function() {
  // Game and settings functions
  setMode();
  if (urlParams.has('ih') && urlParams.has('ik')) {
    start(2);
  } else if (urlParams.has('ih')) {
    start(3);
  } else {
    start(0);
  }
  updateLetterCountButton();
  updateHaslaListButtons();
  document.getElementById('export2').style.display = 'none';

  // Add event listeners for the inputs
  const jumpInput = document.getElementById('settings-jump-to-haslo-input');
  const customHasloInput = document.getElementById('settings-custom-haslo-input');
  const customKategoriaInput = document.getElementById('settings-custom-kategoria-input');
  
  const exportHasloInput = document.getElementById('settings-export-haslo-input');
  const exportKategoriaInput = document.getElementById('settings-export-kategoria-input');

  // Event listener for Jump to Haslo input
  jumpInput.addEventListener('keydown', function(event) {
    if (event.key === "Enter") {
      jump();
    }
  });

  // Event listener for Custom Haslo input
  [customHasloInput, customKategoriaInput].forEach(input => {
    input.addEventListener('keydown', function(event) {
      if (event.key === "Enter") {
        start(1);
        document.getElementById('settingsOverlay').querySelector('.closePopup').click();
      }
    });
  });

  // Event listener for Export Haslo input
  [exportHasloInput, exportKategoriaInput].forEach(input => {
    input.addEventListener('keydown', function(event) {
      if (event.key === "Enter") {
        exportHaslo();
      }
    });
  });

  // Event listener for the whole document: ESC, next haslo with space or ENTER
  document.addEventListener('keydown', function(event) {
    if (event.key === "Escape") {
      if (resetShown === true) {
        document.getElementById('resetOverlay').querySelector('.closePopup').click();
        resetShown = false;
      } else {
        document.getElementById('settingsOverlay').querySelector('.closePopup').click();
        document.getElementById('statsOverlay').querySelector('.closePopup').click();}
    } else if (event.key === " " || event.key === "Enter") {
      document.getElementById('nextButton')?.click();
    }
  });
  // Set the placeholder of the Jump!
  document.getElementById("settings-jump-to-haslo-input").placeholder = parseInt(localStorage.getItem("indexHasla")) + 1 || 1;
}

document.getElementById('switch-letter-counting-button').onclick = () => {
  showCounts = !showCounts;
  localStorage.setItem('showCounts', showCounts);
  updateLetterCountButton();
  wypiszHaslo();
};

document.addEventListener('keydown', (event) => {
  if (event.ctrlKey || event.altKey || event.shiftKey || event.metaKey) return; // ignore shortcuts

  // Don't process keypresses if focus is on input or textarea
  const active = document.activeElement;
  if (active && (active.tagName === 'INPUT' || active.tagName === 'TEXTAREA')) return;

  const key = event.key.toLowerCase();

  const validLetter = /^[a-zƒÖƒáƒô≈Ç≈Ñ√≥≈õ≈∫≈º]$/i.test(key);
  if (!validLetter) return;

  const buttons = document.querySelectorAll('.litera');
  buttons.forEach(btn => {
    if (btn.innerText.toLowerCase() === key && !btn.disabled) {
      btn.click();
    }
  });
});

function reset() {
  if (document.getElementById("reset-cookies-checkbox").checked) {
    localStorage.removeItem("cookieConsent");
  }
  if (document.getElementById("reset-index-checkbox").checked) {
    localStorage.removeItem("indexHasla");
  }
  if (document.getElementById("reset-settings-checkbox").checked) {
    localStorage.removeItem("showCounts");
    localStorage.removeItem("hasla-list");
  }
  if (document.getElementById("reset-stats-checkbox").checked) {
    /*localStorage.removeItem("");*/
    /*stats are WIP*/
  }
  if (document.getElementById("reset-else-checkbox").checked) {
    localStorage.clear();
  }
  location.reload();
}

function fireworks(type) {
  if (type == "pi") {
    var scalar = 2;
    var pi = confetti.shapeFromText({
      text: 'œÄ',
      scalar,
      color: 'white'
    });

    var defaults = {
      spread: 360,
      ticks: 200,
      gravity: 0,
      decay: 0.96,
      startVelocity: 10,
      shapes: [pi],
      scalar
    };

    function shoot() {
      confetti({
        ...defaults,
        particleCount: 30
      });
      confetti({
        ...defaults,
        particleCount: 40,
        flat: true
      });
    }

    setTimeout(shoot, 0);
    setTimeout(shoot, 100);
    setTimeout(shoot, 200);
    setTimeout(shoot, 300);
  }
}

</script>

</body>
</html>
